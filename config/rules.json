{
  "urlWhitelist": ["youtube.com", "www.youtube.com", "youtu.be", "music.youtube.com"],
  "cooldowns": {
    "music.playNow": 0,
    "music.enqueue": 0,
    "minecraft.rcon": 2500,
    "minecraft.rconMulti": 60000,
    "obs.setCurrentProgramScene": 1000,
    "obs.setSceneItemEnabled": 250,
    "obs.enableSourceForMs": 0,
    "obs.setText": 250,
    "obs.mediaRestart": 500,
    "obs.setInputMute": 250,
    "obs.setInputVolume": 250
  },
  "rules": [
    {
      "id": "music-vip",
      "enabled": true,
      "priority": 100,
      "when": { "minValue": 20, "hasUrl": true },
      "actions": [{ "type": "music.playNow", "vip": true }]
    },
    {
      "id": "obs-alert-example",
      "enabled": false,
      "priority": 95,
      "when": { "minValue": 5 },
      "actions": [
        {
          "type": "obs.setText",
          "inputName": "alert_text",
          "text": "Obrigado {{sender}}! Doacao: {{valueBRL}}"
        },
        {
          "type": "obs.enableSourceForMs",
          "sceneName": "Cena Principal",
          "sourceName": "ALERTA_BOX",
          "durationMs": 4000
        }
      ]
    },
    {
      "id": "custom-webhook-example",
      "enabled": false,
      "priority": 92,
      "when": { "minValue": 1 },
      "actions": [
        {
          "type": "webhook.request",
          "url": "http://127.0.0.1:8080/hook/donate",
          "headers": {
            "x-source": "topmusicalivepix"
          },
          "payload": {
            "event": "donation",
            "donationId": "{{donationId}}",
            "sender": "{{sender}}",
            "value": "{{value}}",
            "valueBRL": "{{valueBRL}}",
            "message": "{{message}}",
            "isNewTop": "{{isNewTop}}",
            "videoUrl": "{{url}}"
          }
        }
      ]
    },
    {
      "id": "new-top-example",
      "enabled": false,
      "priority": 90,
      "when": { "minValue": 1, "isNewTop": true },
      "actions": [{ "type": "sfx.play", "src": "/sfx/novo-top.mp3", "volume": 1 }]
    },
    {
      "id": "music-queue",
      "enabled": true,
      "priority": 50,
      "when": { "minValue": 10, "hasUrl": true },
      "actions": [{ "type": "music.enqueue" }]
    },
    {
      "id": "mc-creeper",
      "enabled": true,
      "priority": 10,
      "when": { "minValue": 5, "keywordsAny": ["creeper"] },
      "actions": [
        { "type": "minecraft.rcon", "command": "/summon minecraft:creeper ~ ~ ~" }
      ]
    },
    {
      "id": "mc-nuke",
      "enabled": true,
      "priority": 20,
      "when": { "minValue": 50, "keywordsAny": ["nuke"] },
      "actions": [
        {
          "type": "minecraft.rconMulti",
          "command": "/summon minecraft:tnt ~ ~ ~",
          "count": 12,
          "intervalMs": 150
        }
      ]
    },
    {
      "id": "sfx-susto",
      "enabled": false,
      "priority": 80,
      "when": { "minValue": 2, "keywordsAny": ["susto"] },
      "actions": [{ "type": "sfx.play", "src": "/sfx/susto.mp3", "volume": 1 }]
    }
  ]
}
